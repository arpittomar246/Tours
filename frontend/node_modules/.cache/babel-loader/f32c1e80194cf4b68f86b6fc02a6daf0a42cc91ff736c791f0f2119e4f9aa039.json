{"ast":null,"code":"import _slicedToArray from\"C:/Users/arpit/Desktop/Projects/Tours-byArpitTrust/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import'../styles/tour-details.css';import{Container,Row,Col,Form,ListGroup}from'reactstrap';import{useParams}from'react-router-dom';import tourData from'../assets/data/tours';import calculateAvgRating from'../utils/avgRating';import avatar from'../assets/images/avatar.jpg';import Booking from'../components/Booking/Booking';import NewsLetter from'../shared/Newsletter';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TourDetails=function TourDetails(){var _useParams=useParams(),id=_useParams.id;var reviewMsgRef=useRef('');var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tourRating=_useState2[0],setTourRating=_useState2[1];var tour=tourData.find(function(tour){return tour.id===id;});var photo=tour.photo,title=tour.title,desc=tour.desc,price=tour.price,reviews=tour.reviews,city=tour.city,distance=tour.distance,address=tour.address,maxGroupSize=tour.maxGroupSize;var _calculateAvgRating=calculateAvgRating(reviews),totalRating=_calculateAvgRating.totalRating,avgRating=_calculateAvgRating.avgRating;var options={day:'numeric',month:'long',year:'numeric'};var submitHandler=function submitHandler(e){e.preventDeafult();var reviewText=reviewMsgRef.current.value;// alert(`${reviewText}, ${tourRating}`);\nalert(\"hello\");console.log(\"hello\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour__content\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tour__rating d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\",style:{color:\"var(--secondary-color)\"}}),\" \",avgRating===0?null:avgRating,totalRating===0?\"Not rated\":/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews===null||reviews===void 0?void 0:reviews.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-user-fill\"}),\" \",address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__extra-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-2-line\"}),\" \",city]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-money-dollar-circle-line\"}),\" $\",price,\" / per person\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-add-line\"}),\" \",distance,\" k/m\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-group-line\"}),\" \",maxGroupSize,\" people\"]})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__reviews mt-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Reviews (\",reviews===null||reviews===void 0?void 0:reviews.length,\" reviews)\"]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 mb-4 rating__group\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(1);},children:[\"1 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(2);},children:[\"2 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(3);},children:[\"3 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(4);},children:[\"4 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(5);},children:[\"5 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review__input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text \",ref:reviewMsgRef,placeholder:\"Share your Thoughts\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary__btn text-white\",type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(ListGroup,{className:\"user__reviews\",children:reviews===null||reviews===void 0?void 0:reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:\"review__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Arpit\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date('01-18-2023').toLocaleDateString(\"en-US\",options)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[\"5 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Amazing tour\"})]})]});})})]})]})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(Booking,{tour:tour,avgRating:avgRating})})]})})}),/*#__PURE__*/_jsx(NewsLetter,{})]});};export default TourDetails;","map":{"version":3,"names":["React","useRef","useState","Container","Row","Col","Form","ListGroup","useParams","tourData","calculateAvgRating","avatar","Booking","NewsLetter","TourDetails","id","reviewMsgRef","tourRating","setTourRating","tour","find","photo","title","desc","price","reviews","city","distance","address","maxGroupSize","totalRating","avgRating","options","day","month","year","submitHandler","e","preventDeafult","reviewText","current","value","alert","console","log","color","length","map","review","Date","toLocaleDateString"],"sources":["C:/Users/arpit/Desktop/Projects/Tours-byArpitTrust/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["import React,{useRef,useState} from 'react'\r\nimport '../styles/tour-details.css'\r\nimport {Container, Row, Col, Form, ListGroup} from 'reactstrap'\r\nimport {useParams} from 'react-router-dom'\r\nimport tourData from '../assets/data/tours'\r\nimport calculateAvgRating from '../utils/avgRating';\r\nimport avatar from '../assets/images/avatar.jpg'\r\nimport Booking from '../components/Booking/Booking'\r\nimport NewsLetter from '../shared/Newsletter';\r\n\r\nconst TourDetails = () => {\r\n\r\n  const {id} = useParams();\r\n  const reviewMsgRef = useRef('')\r\n  const[tourRating, setTourRating]=useState(null)\r\n\r\n  const tour = tourData.find(tour=>tour.id === id)\r\n\r\n  const {photo,title,desc,price,reviews,city,distance, address,maxGroupSize}=tour\r\n\r\n  const{totalRating,avgRating} = calculateAvgRating(reviews)\r\n\r\n  const options = {day:'numeric', month:'long', year:'numeric' };\r\n\r\n  const submitHandler = e=>{\r\n    e.preventDeafult()\r\n\r\n    const reviewText = reviewMsgRef.current.value\r\n\r\n    // alert(`${reviewText}, ${tourRating}`);\r\n    alert(\"hello\");\r\n    console.log(\"hello\")\r\n  }\r\n\r\n\r\n\r\n  return (\r\n  <>\r\n  <section>\r\n    <Container>\r\n      <Row>\r\n        <Col lg='8'>\r\n        <div className=\"tour__content\">\r\n          <img src={photo} alt=\"\" />\r\n\r\n          <div className=\"tour__info\">\r\n            <h2>{title}</h2>\r\n\r\n            <div className='d-flex align-items-center gap-5'>\r\n\r\n            <span className=\"tour__rating d-flex align-items-center gap-1\">\r\n            <i class=\"ri-star-fill\" style={{color:\"var(--secondary-color)\"}}></i> {avgRating === 0? null:avgRating}\r\n            {totalRating === 0? (\"Not rated\") : ( <span>({reviews?.length})</span>)} \r\n            </span>\r\n\r\n            <span>\r\n            <i class=\"ri-map-pin-user-fill\"></i> {address}\r\n            </span>\r\n\r\n        \r\n\r\n            </div>\r\n            <div className=\"tour__extra-details\">\r\n              <span><i class=\"ri-map-pin-2-line\"></i> {city}</span>\r\n              <span><i class=\"ri-money-dollar-circle-line\"></i> ${price} / per person</span>\r\n              <span><i class=\"ri-map-pin-add-line\"></i> {distance} k/m</span>\r\n              <span><i class=\"ri-group-line\"></i> {maxGroupSize} people</span>\r\n            </div>\r\n            <h5>Description</h5>\r\n            <p>{desc}</p>\r\n          </div>\r\n\r\n\r\n        <div className=\"tour__reviews mt-4\">\r\n          <h4>Reviews ({reviews?.length} reviews)</h4>\r\n          <Form onSubmit={submitHandler}>\r\n            <div className=\"d-flex align-items-center gap-3 mb-4 rating__group\">\r\n              <span onClick={()=> setTourRating(1)}>1 <i class=\"ri-star-fill\"></i></span>\r\n              <span onClick={()=> setTourRating(2)}>2 <i class=\"ri-star-fill\"></i></span>\r\n              <span onClick={()=> setTourRating(3)}>3 <i class=\"ri-star-fill\"></i></span>\r\n              <span onClick={()=> setTourRating(4)}>4 <i class=\"ri-star-fill\"></i></span>\r\n              <span onClick={()=> setTourRating(5)}>5 <i class=\"ri-star-fill\"></i></span>\r\n            </div>\r\n\r\n            <div className=\"review__input\">\r\n              <input type=\"text \" ref={reviewMsgRef} placeholder='Share your Thoughts' required/>\r\n              <button className=\"btn primary__btn text-white\" type=\"submit\">\r\n                Submit\r\n              </button>\r\n            </div>\r\n          </Form>\r\n\r\n          <ListGroup className=\"user__reviews\">\r\n            {\r\n              reviews?.map(review=>(\r\n                <div className=\"review__item\">\r\n                  <img src={avatar} alt=\"\" />\r\n\r\n                  <div className=\"w-100\">\r\n                    <div className=\"d-flex align-items-center justify-content-between\">\r\n                      <div>\r\n                        <h5>Arpit</h5>\r\n                        <p>{new Date('01-18-2023').toLocaleDateString(\r\n                          \"en-US\", options\r\n                        )}</p>\r\n                      </div>\r\n                      <span className=\"d-flex align-items-center\">\r\n                        5 <i class=\"ri-star-s-fill\"></i>\r\n                      </span>\r\n                    </div>\r\n\r\n                    <h6>Amazing tour</h6>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            }\r\n          </ListGroup>\r\n        </div>\r\n\r\n\r\n\r\n        </div>\r\n        </Col>\r\n\r\n        <Col lg='4'>\r\n            <Booking tour={tour} avgRating={avgRating}/>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  </section>\r\n <NewsLetter/>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default TourDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}